import{s as Ce,o as ee,e as u,k as c,c as p,l as I,m as _,a as te,d as M,f as d,i as A,g as n,p as O,q as se,r as ye,u as ne,v as ke,j as de}from"../chunks/scheduler.Dgxcbnqg.js";import{S as Pe,i as xe,b as ae,c as me,a as fe,m as ce,t as _e,d as be,e as ve}from"../chunks/index.BAd-COy6.js";import{p as Te}from"../chunks/stores.CqkRlcZ3.js";import{S as Ie,u as Le,a as Re}from"../chunks/Snackbar.DbxO-GXt.js";import{P as Ee}from"../chunks/PasswordMeter.CEE5veXg.js";function Me(a){let v,l="ITPG - Reset Password",b,s,g,q="Reset Your Password",R,r,o,C,y,V="confirmation code",D,L,z="code",F,k,i='<input name="email" type="text" autocomplete="username"/> <label>email</label> <i>email</i>',U,m,f,j,H,re="new password",G,S,oe="visibility",Y,E,le='<input name="newPassword" type="password" autocomplete="new-password"/> <label>confirm password</label> <i>visibility</i>',J,P,K,Q,x,ie="Reset",B,h,W,X,N,Z,ue;function he(e){a[9](e)}let pe={};a[1]!==void 0&&(pe.password=a[1]),P=new Ee({props:pe}),ee.push(()=>ae(P,"password",he));function we(e){a[11](e)}function ge(e){a[12](e)}let $={timeout:3e3};return a[2]!==void 0&&($.type=a[2]),a[3]!==void 0&&($.msg=a[3]),h=new Ie({props:$}),ee.push(()=>ae(h,"type",we)),ee.push(()=>ae(h,"msg",ge)),{c(){v=u("title"),v.textContent=l,b=c(),s=u("form"),g=u("h6"),g.textContent=q,R=c(),r=u("div"),o=u("input"),C=c(),y=u("label"),y.textContent=V,D=c(),L=u("i"),L.textContent=z,F=c(),k=u("div"),k.innerHTML=i,U=c(),m=u("div"),f=u("input"),j=c(),H=u("label"),H.textContent=re,G=c(),S=u("i"),S.textContent=oe,Y=c(),E=u("div"),E.innerHTML=le,J=c(),me(P.$$.fragment),Q=c(),x=u("button"),x.textContent=ie,B=c(),me(h.$$.fragment),this.h()},l(e){v=p(e,"TITLE",{"data-svelte-h":!0}),I(v)!=="svelte-10n0fix"&&(v.textContent=l),b=_(e),s=p(e,"FORM",{});var t=te(s);g=p(t,"H6",{class:!0,"data-svelte-h":!0}),I(g)!=="svelte-3ah5st"&&(g.textContent=q),R=_(t),r=p(t,"DIV",{class:!0});var T=te(r);o=p(T,"INPUT",{name:!0,type:!0,autocomplete:!0}),C=_(T),y=p(T,"LABEL",{"data-svelte-h":!0}),I(y)!=="svelte-87ysgm"&&(y.textContent=V),D=_(T),L=p(T,"I",{"data-svelte-h":!0}),I(L)!=="svelte-1fzkmqf"&&(L.textContent=z),T.forEach(M),F=_(t),k=p(t,"DIV",{class:!0,"data-svelte-h":!0}),I(k)!=="svelte-ipwl8n"&&(k.innerHTML=i),U=_(t),m=p(t,"DIV",{class:!0});var w=te(m);f=p(w,"INPUT",{name:!0,type:!0,autocomplete:!0}),j=_(w),H=p(w,"LABEL",{"data-svelte-h":!0}),I(H)!=="svelte-19chdgt"&&(H.textContent=re),G=_(w),S=p(w,"I",{"data-svelte-h":!0}),I(S)!=="svelte-1bcfmfs"&&(S.textContent=oe),w.forEach(M),Y=_(t),E=p(t,"DIV",{class:!0,"data-svelte-h":!0}),I(E)!=="svelte-pqc3zv"&&(E.innerHTML=le),J=_(t),fe(P.$$.fragment,t),Q=_(t),x=p(t,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),I(x)!=="svelte-1bhz3pt"&&(x.textContent=ie),t.forEach(M),B=_(e),fe(h.$$.fragment,e),this.h()},h(){d(g,"class","padding"),d(o,"name","code"),d(o,"type","text"),d(o,"autocomplete","off"),d(r,"class","field label suffix round border"),d(k,"class","field label suffix round border"),d(f,"name","password"),d(f,"type","password"),d(f,"autocomplete","new-password"),d(m,"class","field label suffix round border"),d(E,"class","field label suffix round border"),d(x,"class","responsive margin"),d(x,"type","submit")},m(e,t){A(e,v,t),A(e,b,t),A(e,s,t),n(s,g),n(s,R),n(s,r),n(r,o),O(o,a[0]),n(r,C),n(r,y),n(r,D),n(r,L),n(s,F),n(s,k),n(s,U),n(s,m),n(m,f),O(f,a[1]),n(m,j),n(m,H),n(m,G),n(m,S),n(s,Y),n(s,E),n(s,J),ce(P,s,null),n(s,Q),n(s,x),A(e,B,t),ce(h,e,t),N=!0,Z||(ue=[se(o,"input",a[7]),se(f,"input",a[8]),se(x,"click",a[10]),ye(a[5].call(null,s))],Z=!0)},p(e,[t]){t&1&&o.value!==e[0]&&O(o,e[0]),t&2&&f.value!==e[1]&&O(f,e[1]);const T={};!K&&t&2&&(K=!0,T.password=e[1],ne(()=>K=!1)),P.$set(T);const w={};!W&&t&4&&(W=!0,w.type=e[2],ne(()=>W=!1)),!X&&t&8&&(X=!0,w.msg=e[3],ne(()=>X=!1)),h.$set(w)},i(e){N||(_e(P.$$.fragment,e),_e(h.$$.fragment,e),N=!0)},o(e){be(P.$$.fragment,e),be(h.$$.fragment,e),N=!1},d(e){e&&(M(v),M(b),M(s),M(B)),ve(P),ve(h,e),Z=!1,ke(ue)}}}function He(a,v,l){let b,s;de(a,Te,i=>l(13,s=i));const g=new URLSearchParams(s.url.search),q=Le({code:{},email:{},password:{},newPassword:{}});de(a,q,i=>l(4,b=i));let R=g.get("code")||"no code provided...",r="",o="",C="";const y=async(i,U,m)=>{await Re.changePasswordReset(i,U,m).then(()=>{l(2,o="primary"),l(3,C="password reset !"),b.reset()}).catch(f=>{l(2,o="error"),l(3,C=f)})};function V(){R=this.value,l(0,R)}function D(){r=this.value,l(1,r)}function L(i){r=i,l(1,r)}const z=()=>{y(b.email.value,b.password.value,b.code.value)};function F(i){o=i,l(2,o)}function k(i){C=i,l(3,C)}return[R,r,o,C,b,q,y,V,D,L,z,F,k]}class Ve extends Pe{constructor(v){super(),xe(this,v,He,Me,Ce,{})}}export{Ve as component};
