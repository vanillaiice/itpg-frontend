import{s as Et,o as Xe,e as s,k as p,c as a,l as E,m as f,i as ge,u as Ye,d as h,j as Ke,z as xt,f as l,n as Qe,t as Pe,a as P,b as Ie,g as e,p as ht,q as be,r as H,v as At}from"../chunks/scheduler.Dgxcbnqg.js";import{S as Dt,i as Lt,b as Ze,c as Ct,a as kt,m as yt,d as Ee,f as Tt,t as xe,e as Pt,g as Nt}from"../chunks/index.BAd-COy6.js";import{S as Vt,u as bt,a as gt}from"../chunks/Snackbar.DbxO-GXt.js";import{P as qt}from"../chunks/PasswordMeter.CEE5veXg.js";import{L as wt,p as Ft}from"../chunks/passwordMatch.DtFSjvj-.js";import{v as me,r as ve,e as Bt}from"../chunks/validators.Rol07ro1.js";const Ut=n=>{if(n!=="delete")return{typeDelete:!0}};function St(n){let r,o="Not logged in...ðŸ˜”";return{c(){r=s("h1"),r.textContent=o,this.h()},l(i){r=a(i,"H1",{class:!0,"data-svelte-h":!0}),E(r)!=="svelte-23xfdh"&&(r.textContent=o),this.h()},h(){l(r,"class","error center-align")},m(i,d){ge(i,r,d)},p:Qe,i:Qe,o:Qe,d(i){i&&h(r)}}}function Mt(n){let r,o,i,d,_,x,m,g,I,k,b,u,y,A,W,D,t="current password",w,L,z="visibility",he,T,c,J,V,$e="new password",Ae,$,et="password",De,q,ee,Le,te,tt="confirm password",Te,se,st="password",Ne,O,Ve,qe,j,Fe,we,Ce,Be,K,N,F,Q,Ue,ae,at="email",Se,le,lt="email",Me,B,X,Oe,ne,nt="password",je,oe,ot="visibility",Re,U,Y,ze,re,rt="please type: 'delete'",Ge,ue,ut="edit_note",He,R,We,ke,ye,S,Je,ct;function It(v){n[15](v)}let it={};return n[1]!==void 0&&(it.password=n[1]),O=new qt({props:it}),Xe.push(()=>Ze(O,"password",It)),{c(){r=s("div"),o=s("div"),i=s("a"),d=Pe("Change Password"),x=p(),m=s("a"),g=Pe("Delete Account"),k=p(),b=s("div"),u=s("form"),y=s("div"),A=s("input"),W=p(),D=s("label"),D.textContent=t,w=p(),L=s("i"),L.textContent=z,he=p(),T=s("div"),c=s("input"),J=p(),V=s("label"),V.textContent=$e,Ae=p(),$=s("i"),$.textContent=et,De=p(),q=s("div"),ee=s("input"),Le=p(),te=s("label"),te.textContent=tt,Te=p(),se=s("i"),se.textContent=st,Ne=p(),Ct(O.$$.fragment),qe=p(),j=s("button"),Fe=Pe("Change"),Be=p(),K=s("div"),N=s("form"),F=s("div"),Q=s("input"),Ue=p(),ae=s("label"),ae.textContent=at,Se=p(),le=s("i"),le.textContent=lt,Me=p(),B=s("div"),X=s("input"),Oe=p(),ne=s("label"),ne.textContent=nt,je=p(),oe=s("i"),oe.textContent=ot,Re=p(),U=s("div"),Y=s("input"),ze=p(),re=s("label"),re.textContent=rt,Ge=p(),ue=s("i"),ue.textContent=ut,He=p(),R=s("button"),We=Pe("Delete"),this.h()},l(v){r=a(v,"DIV",{});var C=P(r);o=a(C,"DIV",{class:!0});var Z=P(o);i=a(Z,"A",{class:!0});var dt=P(i);d=Ie(dt,"Change Password"),dt.forEach(h),x=f(Z),m=a(Z,"A",{class:!0});var pt=P(m);g=Ie(pt,"Delete Account"),pt.forEach(h),Z.forEach(h),k=f(C),b=a(C,"DIV",{class:!0});var ft=P(b);u=a(ft,"FORM",{});var M=P(u);y=a(M,"DIV",{class:!0});var ce=P(y);A=a(ce,"INPUT",{name:!0,type:!0,autocomplete:!0}),W=f(ce),D=a(ce,"LABEL",{"data-svelte-h":!0}),E(D)!=="svelte-1onqqjm"&&(D.textContent=t),w=f(ce),L=a(ce,"I",{"data-svelte-h":!0}),E(L)!=="svelte-1bcfmfs"&&(L.textContent=z),ce.forEach(h),he=f(M),T=a(M,"DIV",{class:!0});var ie=P(T);c=a(ie,"INPUT",{name:!0,type:!0,autocomplete:!0}),J=f(ie),V=a(ie,"LABEL",{"data-svelte-h":!0}),E(V)!=="svelte-19chdgt"&&(V.textContent=$e),Ae=f(ie),$=a(ie,"I",{"data-svelte-h":!0}),E($)!=="svelte-1ovqkdf"&&($.textContent=et),ie.forEach(h),De=f(M),q=a(M,"DIV",{class:!0});var de=P(q);ee=a(de,"INPUT",{type:!0,autocomplete:!0}),Le=f(de),te=a(de,"LABEL",{"data-svelte-h":!0}),E(te)!=="svelte-1hjgefr"&&(te.textContent=tt),Te=f(de),se=a(de,"I",{"data-svelte-h":!0}),E(se)!=="svelte-1ovqkdf"&&(se.textContent=st),de.forEach(h),Ne=f(M),kt(O.$$.fragment,M),qe=f(M),j=a(M,"BUTTON",{class:!0});var _t=P(j);Fe=Ie(_t,"Change"),_t.forEach(h),M.forEach(h),ft.forEach(h),Be=f(C),K=a(C,"DIV",{class:!0});var mt=P(K);N=a(mt,"FORM",{});var G=P(N);F=a(G,"DIV",{class:!0});var pe=P(F);Q=a(pe,"INPUT",{name:!0,type:!0,autocomplete:!0}),Ue=f(pe),ae=a(pe,"LABEL",{"data-svelte-h":!0}),E(ae)!=="svelte-1e3qw5k"&&(ae.textContent=at),Se=f(pe),le=a(pe,"I",{"data-svelte-h":!0}),E(le)!=="svelte-k2q616"&&(le.textContent=lt),pe.forEach(h),Me=f(G),B=a(G,"DIV",{class:!0});var fe=P(B);X=a(fe,"INPUT",{name:!0,type:!0,autocomplete:!0}),Oe=f(fe),ne=a(fe,"LABEL",{"data-svelte-h":!0}),E(ne)!=="svelte-kcc32r"&&(ne.textContent=nt),je=f(fe),oe=a(fe,"I",{"data-svelte-h":!0}),E(oe)!=="svelte-1bcfmfs"&&(oe.textContent=ot),fe.forEach(h),Re=f(G),U=a(G,"DIV",{class:!0});var _e=P(U);Y=a(_e,"INPUT",{name:!0,type:!0,autocomplete:!0}),ze=f(_e),re=a(_e,"LABEL",{"data-svelte-h":!0}),E(re)!=="svelte-hya63b"&&(re.textContent=rt),Ge=f(_e),ue=a(_e,"I",{"data-svelte-h":!0}),E(ue)!=="svelte-w2y6af"&&(ue.textContent=ut),_e.forEach(h),He=f(G),R=a(G,"BUTTON",{class:!0});var vt=P(R);We=Ie(vt,"Delete"),vt.forEach(h),G.forEach(h),mt.forEach(h),C.forEach(h),this.h()},h(){l(i,"class",_=n[0].changePass==!0?"active":""),l(m,"class",I=n[0].deleteAccount==!0?"active":""),l(o,"class","tabs"),l(A,"name","password"),l(A,"type","password"),l(A,"autocomplete","current-password"),l(y,"class","field label suffix round border"),l(c,"name","newPassword"),l(c,"type","password"),l(c,"autocomplete","new-password"),l(T,"class","field label suffix round border"),l(ee,"type","password"),l(ee,"autocomplete","new-password"),l(q,"class","field label suffix round border"),l(j,"class","responsive"),j.disabled=we=!n[5].valid,l(b,"class",Ce="page padding "+(n[0].changePass==!0?"active":"")),l(Q,"name","email"),l(Q,"type","text"),l(Q,"autocomplete","username"),l(F,"class","field label suffix round border"),l(X,"name","password"),l(X,"type","password"),l(X,"autocomplete","current-password"),l(B,"class","field label suffix round border"),l(Y,"name","typeDelete"),l(Y,"type","text"),l(Y,"autocomplete","off"),l(U,"class","field label suffix round border"),l(R,"class","responsive"),R.disabled=ke=!n[4].valid,l(K,"class",ye="page padding "+(n[0].deleteAccount==!0?"active":""))},m(v,C){ge(v,r,C),e(r,o),e(o,i),e(i,d),e(o,x),e(o,m),e(m,g),e(r,k),e(r,b),e(b,u),e(u,y),e(y,A),e(y,W),e(y,D),e(y,w),e(y,L),e(u,he),e(u,T),e(T,c),ht(c,n[1]),e(T,J),e(T,V),e(T,Ae),e(T,$),e(u,De),e(u,q),e(q,ee),e(q,Le),e(q,te),e(q,Te),e(q,se),e(u,Ne),yt(O,u,null),e(u,qe),e(u,j),e(j,Fe),e(r,Be),e(r,K),e(K,N),e(N,F),e(F,Q),e(F,Ue),e(F,ae),e(F,Se),e(F,le),e(N,Me),e(N,B),e(B,X),e(B,Oe),e(B,ne),e(B,je),e(B,oe),e(N,Re),e(N,U),e(U,Y),e(U,ze),e(U,re),e(U,Ge),e(U,ue),e(N,He),e(N,R),e(R,We),S=!0,Je||(ct=[be(i,"click",n[12]),be(m,"click",n[13]),H(me.call(null,A,[ve])),be(c,"input",n[14]),H(me.call(null,c,[ve])),H(me.call(null,ee,[ve,Ft])),be(j,"click",n[16]),H(n[7].call(null,u)),H(me.call(null,Q,[ve,Bt])),H(me.call(null,X,[ve])),H(me.call(null,Y,[ve,Ut])),be(R,"click",n[17]),H(n[8].call(null,N))],Je=!0)},p(v,C){(!S||C&1&&_!==(_=v[0].changePass==!0?"active":""))&&l(i,"class",_),(!S||C&1&&I!==(I=v[0].deleteAccount==!0?"active":""))&&l(m,"class",I),C&2&&c.value!==v[1]&&ht(c,v[1]);const Z={};!Ve&&C&2&&(Ve=!0,Z.password=v[1],Ye(()=>Ve=!1)),O.$set(Z),(!S||C&32&&we!==(we=!v[5].valid))&&(j.disabled=we),(!S||C&1&&Ce!==(Ce="page padding "+(v[0].changePass==!0?"active":"")))&&l(b,"class",Ce),(!S||C&16&&ke!==(ke=!v[4].valid))&&(R.disabled=ke),(!S||C&1&&ye!==(ye="page padding "+(v[0].deleteAccount==!0?"active":"")))&&l(K,"class",ye)},i(v){S||(xe(O.$$.fragment,v),S=!0)},o(v){Ee(O.$$.fragment,v),S=!1},d(v){v&&h(r),Pt(O),Je=!1,At(ct)}}}function Ot(n){let r,o="ITPG - Dashboard",i,d,_,x,m,g,I,k;const b=[Mt,St],u=[];function y(t,w){return t[6]?0:1}d=y(n),_=u[d]=b[d](n);function A(t){n[18](t)}function W(t){n[19](t)}let D={};return n[3]!==void 0&&(D.type=n[3]),n[2]!==void 0&&(D.msg=n[2]),m=new Vt({props:D}),Xe.push(()=>Ze(m,"type",A)),Xe.push(()=>Ze(m,"msg",W)),{c(){r=s("title"),r.textContent=o,i=p(),_.c(),x=p(),Ct(m.$$.fragment)},l(t){r=a(t,"TITLE",{"data-svelte-h":!0}),E(r)!=="svelte-12v1l9d"&&(r.textContent=o),i=f(t),_.l(t),x=f(t),kt(m.$$.fragment,t)},m(t,w){ge(t,r,w),ge(t,i,w),u[d].m(t,w),ge(t,x,w),yt(m,t,w),k=!0},p(t,[w]){let L=d;d=y(t),d===L?u[d].p(t,w):(Nt(),Ee(u[L],1,1,()=>{u[L]=null}),Tt(),_=u[d],_?_.p(t,w):(_=u[d]=b[d](t),_.c()),xe(_,1),_.m(x.parentNode,x));const z={};!g&&w&8&&(g=!0,z.type=t[3],Ye(()=>g=!1)),!I&&w&4&&(I=!0,z.msg=t[2],Ye(()=>I=!1)),m.$set(z)},i(t){k||(xe(_),xe(m.$$.fragment,t),k=!0)},o(t){Ee(_),Ee(m.$$.fragment,t),k=!1},d(t){t&&(h(r),h(i),h(x)),u[d].d(t),Pt(m,t)}}}function jt(n,r,o){let i,d,_;Ke(n,wt,c=>o(6,_=c));const x=bt({password:{},newPassword:{}},"changePasswordForm");Ke(n,x,c=>o(5,d=c));const m=bt({email:{},password:{}},"deleteAccountForm");Ke(n,m,c=>o(4,i=c));let g={changePass:!0,deleteAccount:!1},I="",k="",b="";const u=()=>{o(0,g.deleteAccount=!1,g),o(0,g.changePass=!1,g)},y=async(c,J)=>{await gt.changePassword(c,J).then(()=>{o(3,b="primary"),o(2,k="password changed !"),xt(wt,_=!1,_),d.reset()}).catch(V=>{o(3,b="error"),o(2,k=V)})},A=async(c,J)=>{await gt.deleteAccount(c,J).then(()=>{o(3,b="primary"),o(2,k="account deleted !"),i.reset()}).catch(V=>{o(3,b="error"),o(2,k=V)})},W=()=>{u(),o(0,g.changePass=!0,g)},D=()=>{u(),o(0,g.deleteAccount=!0,g)};function t(){I=this.value,o(1,I)}function w(c){I=c,o(1,I)}const L=()=>{y(d.password.value,d.newPassword.value)},z=()=>{A(i.email.value,i.password.value)};function he(c){b=c,o(3,b)}function T(c){k=c,o(2,k)}return[g,I,k,b,i,d,_,x,m,u,y,A,W,D,t,w,L,z,he,T]}class Kt extends Dt{constructor(r){super(),Lt(this,r,jt,Ot,Et,{})}}export{Kt as component};
