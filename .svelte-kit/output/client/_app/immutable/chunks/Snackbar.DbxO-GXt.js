var G=Object.defineProperty;var J=(t,e,n)=>e in t?G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var g=(t,e,n)=>(J(t,typeof e!="symbol"?e+"":e,n),n);import{a4 as z,s as K,e as Q,t as X,c as Y,a as Z,b as $,d as w,f as I,i as ee,g as te,q as ne,h as se,n as A}from"./scheduler.Dgxcbnqg.js";import{w as oe}from"./index.BnQT6tZ-.js";import{S as ie,i as re}from"./index.BAd-COy6.js";const O="https://api.itpg.cc/demo",f={get:"get",post:"post"},h={omit:"omit",include:"include"},F={httpOk:200,apiOk:2e3,notConfirmed:4006},m=async(t,e,n,a)=>{let i={method:e,credentials:a,body:null};return n!=null&&(i.body=JSON.stringify(n)),new Promise((d,u)=>{fetch(`${O}/${t}`,i).then(l=>l.json()).then(l=>{l.code==F.apiOk||l.code==F.notConfirmed&&t=="register"?d(l.message):u(l.message)}).catch(l=>{u(l)})})};let ke={isLoggedIn:async()=>new Promise((t,e)=>{fetch(`${O}/ping`,{method:f.get,credentials:"include"}).then(n=>{n.status==200?t(!0):t(!1)}).catch(n=>{e(n)})}),register:async(t,e)=>m("register",f.post,{email:t,password:e},h.omit),login:async(t,e)=>m("login",f.post,{email:t,password:e},h.include),logout:async()=>m("logout",f.post,null,h.include),confirm:async t=>m("confirm?code="+t,f.post,null,h.omit),resendCode:async(t,e)=>m("newconfirmationcode",f.post,{email:t,password:e},h.omit),reset:async t=>m("sendresetlink?email="+t,f.post,null,h.omit),changePassword:async(t,e)=>m("changepass",f.post,{old:t,new:e},h.include),changePasswordReset:async(t,e,n)=>m("resetpass",f.post,{email:t,password:e,code:n},h.omit),deleteAccount:async(t,e)=>m("delete",f.post,{email:t,password:e},h.include),refreshCookie:async()=>m("refresh",f.post,null,h.include),getCourses:async()=>m("course/all",f.get,null,h.omit),getProfessors:async()=>m("professor/all",f.get,null,h.omit),getScores:async()=>m("score/all",f.get,null,h.omit),getScoresByProfessorUUID:async t=>m("score/prof/"+t,f.get,null,h.omit),getScoresByCourse:async t=>m("score/coursecode/"+t,f.get,null,h.omit),getCoursesByCodeLike:async t=>m("score/coursecodelike/"+t,f.get,null,h.omit),getCoursesByNameLike:async t=>m("score/coursenamelike/"+t,f.get,null,h.omit),getCoursesByProfessorNameLike:async t=>m("score/profnamelike/"+t,f.get,null,"omit"),grade:async(t,e,n,a,i)=>m("course/grade",f.post,{code:t,uuid:e,teaching:parseFloat(n),coursework:parseFloat(a),learning:parseFloat(i)},h.include)};const ae=()=>/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),S="svelte-use-form-webkit-autofill",le=`
@keyframes ${S} {
    from {}
}

input:-webkit-autofill {
    animation-name: svelte-use-form-webkit-autofill;
}
`;function ce(){if(document.getElementById("svelte-use-form-chrome-autofill-styles")===null){const t=document.createElement("style");t.setAttribute("id","svelte-use-form-chrome-autofill-styles"),t.setAttribute("type","text/css"),t.appendChild(document.createTextNode(le)),document.head.appendChild(t)}}function ue(t,e,n){if(!ae())return;function a(i){i.animationName.includes(S)&&(t.value||(e.valid=!0,n()))}t.addEventListener("animationstart",a),ce()}class N{constructor(e){g(this,"validators");g(this,"errors",{});g(this,"errorMap",{});g(this,"elements",[]);g(this,"valid",!0);g(this,"_touched",!1);g(this,"initial");g(this,"formRef");g(this,"_value","");this.formRef=e.formRef,this.validators=e.validators,this.errorMap=e.errorMap,this.initial=e.value,this.elements=e.elements,this.value=e.value}get value(){return this._value}get touched(){return this._touched}set value(e){this._value=e,this.validate()}set touched(e){this._touched=e,this.elements.forEach(n=>{e?n.classList.add("touched"):n.classList.remove("touched")})}error(e){this.errors={...e,...this.errors},this.valid=!1,this.formRef()._notifyListeners()}change(e){this.value=e,this.elements.forEach(n=>n.value=e),this.formRef()._notifyListeners()}validate(){let e=!0;this.errors={};for(const n of this.validators){const a=n(this.value,this.formRef(),this);if(a){e=!1;for(const i of Object.entries(a)){let[d,u]=i;const l=this.errorMap[d];l&&(u=typeof l=="function"?l(u):l),this.errors[d]=u}}}return this.valid=e,this.elements.forEach(n=>n.setCustomValidity(e?"":"Field is invalid")),e}reset({value:e}={}){const n=e??this.initial;this.elements.forEach(a=>a.value=n),this.value=n,this.touched=!1,this.formRef()._notifyListeners()}}class L{constructor(e,n){g(this,"_notifyListeners");for(const[a,i]of Object.entries(e))this._addControl(a,i.initial,i.validators,[],i.errorMap);this._notifyListeners=n}static create(e,n){return new L(e,n)}get valid(){let e=!0;return this.forEachControl(n=>{n.valid||(e=!1)}),e}get touched(){let e=!0;return this.forEachControl(n=>{n.touched||(e=!1)}),e}get values(){let e={};return this.forEachControl((n,a)=>{e[a]=n.value}),e}set touched(e){this.forEachControl(n=>{n.touched=e}),this._notifyListeners()}reset(){this.forEachControl(e=>e.reset())}_addControl(e,n="",a=[],i=[],d={}){this[e]=new N({value:n,validators:a,elements:i,errorMap:d,formRef:()=>this})}forEachControl(e){for(const[n,a]of Object.entries(this))a instanceof N&&e(a,n)}}class R extends Error{}function fe(t){return t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement}function k(t){return t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement}function H(t){return t.hasAttribute("data-suf-ignore")&&t.getAttribute("data-suf-ignore")==="true"||t.getAttribute("data-suf-ignore")===!0}const me=oe([]);function Ce(t={},e="svelte-use-form"){const n=[];let a=[],i=L.create(t,v),d;u.subscribe=D,u.set=W,z(e,u);function u(o){return l(o),me.update(s=>[...s,{node:o,form:i,notifyListeners:v}]),{update:()=>{},destroy:()=>{x(),d.disconnect()}}}function l(o){const s=[...E(o,"input")],r=[...E(o,"textarea")],c=[...E(o,"select")],p=[...s,...r];_(p),M(c),j([...p,...c]),B(o),v()}function _(o){for(const s of o){const r=s.name;let c=i[r];if(c)c.elements.push(s),s.type==="radio"&&s instanceof HTMLInputElement&&s.checked&&(c.initial=s.value);else{const p=de(s);i._addControl(r,p,[],[s],{}),c=i[r]}switch(s.type){case"checkbox":case"radio":y(s,"click",b);break;default:T(s,c),V(s,c),y(s,"blur",b)}y(s,"input",C)}}function M(o){for(const s of o){const r=s.name,c=i[r];if(c)c.elements.push(s),T(s,c);else{const p=s.value;i._addControl(r,p,[],[s],{})}y(s,"input",C),y(s,"input",b),y(s,"blur",b)}}function B(o){d=new MutationObserver(P),d.observe(o,{childList:!0,subtree:!0})}function P(o){for(const s of o)if(s.type==="childList"){for(const r of s.addedNodes){if(!(k(r)&&!H(r)))continue;const c=t[r.name];!i[r.name]&&c&&i._addControl(r.name,c.initial,c.validators,[],c.errorMap),fe(r)?_([r]):r instanceof HTMLSelectElement&&M([r])}for(const r of s.removedNodes){if(!(r instanceof HTMLElement))continue;(k(r)?[r]:he(r)).forEach(p=>{delete i[p.name],a=a.filter(q=>q.node!==p)})}}v()}function y(o,s,r){o.addEventListener(s,r),a.push({node:o,event:s,listener:r})}function x(){for(const{node:o,event:s,listener:r}of a)o.removeEventListener(s,r)}function V(o,s){ue(o,s,v);function r(){return o.value!==s.initial?(b({target:o}),!0):!1}r()||setTimeout(()=>r(),100)}function C({target:o}){if(k(o)){const s=o.name,r=i[s];if(!r)throw new R;let c;o.type==="checkbox"&&o instanceof HTMLInputElement?c=o.checked?"checked":"":c=o.value,r.value=c,v()}}function b({target:o}){if(k(o)){const s=i[o.name];if(!s)throw new R;s.touched||C({target:o}),s.touched=!0,o.classList.add("touched"),v()}}function j(o){for(const s of Object.keys(t)){let r=!1;for(const c of o)s===c.name&&(r=!0);r||delete i[s]}}function T(o,s){s.initial&&(o.value=s.initial)}function v(){for(const o of n)o(i)}function D(o){return n.push(o),o(i),{unsubscribe:()=>U(o)}}function U(o){const s=n.indexOf(o);n.splice(s,1)}function W(o){i=o,v()}return u}function de(t){let e;return t.type==="radio"&&t instanceof HTMLInputElement?e=t.checked?t.value:"":t.type==="checkbox"&&t instanceof HTMLInputElement?e=t.checked?"checked":"":e=t.value,e}function E(t,e){return Array.from(t.getElementsByTagName(e)).filter(n=>!H(n))}function he(t){const e=E(t,"input"),n=E(t,"textarea"),a=E(t,"select");return[...e,...n,...a]}function ge(t){let e,n,a,i,d;return{c(){e=Q("div"),n=X(t[0]),this.h()},l(u){e=Y(u,"DIV",{class:!0});var l=Z(e);n=$(l,t[0]),l.forEach(w),this.h()},h(){I(e,"class",a="snackbar "+t[1]+" "+(t[0]==""?"":"active"))},m(u,l){ee(u,e,l),te(e,n),i||(d=ne(e,"click",t[3]),i=!0)},p(u,[l]){l&1&&se(n,u[0]),l&3&&a!==(a="snackbar "+u[1]+" "+(u[0]==""?"":"active"))&&I(e,"class",a)},i:A,o:A,d(u){u&&w(e),i=!1,d()}}}function pe(t,e,n){let{type:a=""}=e,{msg:i=""}=e,{timeout:d=1e3}=e;const u=()=>{n(0,i="")};return t.$$set=l=>{"type"in l&&n(1,a=l.type),"msg"in l&&n(0,i=l.msg),"timeout"in l&&n(2,d=l.timeout)},t.$$.update=()=>{t.$$.dirty&5&&setTimeout(()=>{n(0,i="")},d)},[i,a,d,u]}class Le extends ie{constructor(e){super(),re(this,e,pe,ge,K,{type:1,msg:0,timeout:2})}}export{N as F,Le as S,ke as a,me as f,Ce as u};
